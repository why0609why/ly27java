# 运行结果
可以发现运行结果中有窗口卖出了重复的票，也有卖出负数的票，主要是两个原因
1. 重复票：主要是CPU的每次执行必须都是原子性的，像ticket--就不是原子性的，因为ticket--的操作会先记录下ticket的值，在记录下ticket--的值，再把ticket--的值赋值给ticket。如果这样想的话，在三个线程都进入到ticket--操作时，在第一个线程执行打印票数之后，ticket--的值赋给ticket之前，另外两个线程也进行了打印操作，就出现了重复票
2. 负数票：是随机性和延迟性导致的。当票数只剩1张的时候(注意此时没有锁的概念)，三个线程都因为票数是1都进入了while循环中，所以第一个线程卖出了1张，此时票数为0，而另外两个线程都因为可以执行打印操作，分别卖出了第0张，第-1张票。